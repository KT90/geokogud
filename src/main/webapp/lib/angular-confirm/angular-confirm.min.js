/*!  20-11-2015 */
angular.module("angular-confirm",["ui.bootstrap"]).controller("ConfirmModalController",["$scope","$modalInstance","data",function(a,b,c){a.data=angular.copy(c),a.ok=function(){b.close()},a.cancel=function(){b.dismiss("cancel")}}]).value("$confirmModalDefaults",{template:'<div class="modal-header"><h3 class="modal-title">{{data.title}}</h3></div><div class="modal-body">{{data.text}}</div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">{{data.ok}}</button><button class="btn btn-default" ng-click="cancel()">{{data.cancel}}</button></div>',controller:"ConfirmModalController",defaultLabels:{title:"Confirm",ok:"OK",cancel:"Cancel"}}).factory("$confirm",["$modal","$confirmModalDefaults",function(a,b){return function(c,d){return d=angular.extend(b,d||{}),c=angular.extend({},d.defaultLabels,c||{}),"templateUrl"in d&&"template"in d&&delete d.template,d.resolve={data:function(){return c}},a.open(d).result}}]).directive("confirm",["$confirm",function(a){return{priority:1,restrict:"A",scope:{confirmIf:"=",ngClick:"&",confirm:"@",confirmSettings:"=",confirmTitle:"@",confirmOk:"@",confirmCancel:"@"},link:function(b,c,d){c.unbind("click").bind("click",function(c){if(c.preventDefault(),angular.isUndefined(b.confirmIf)||b.confirmIf){var d={text:b.confirm};b.confirmTitle&&(d.title=b.confirmTitle),b.confirmOk&&(d.ok=b.confirmOk),b.confirmCancel&&(d.cancel=b.confirmCancel),a(d,b.confirmSettings||{}).then(b.ngClick)}else b.$apply(b.ngClick)})}}}]);